{
    "collab_server" : "",
    "contents" : "#initial set up------\ninstall.packages(\"rfishbase\", \n                 repos = c(\"http://packages.ropensci.org\", \"http://cran.rstudio.com\"), \n                 type=\"source\")\nlibrary(rfishbase)\n?species\nspecies(c(\"Labroides bicolor\", \"Bolbometopon muricatum\"), fields = species_fields$habitat) \n?cites\n??cites\nhead(species_fields)\ntable(species_fields$stocks)\n?stocks\nstocks(c(\"Labroides bicolor\"), fields = c(\"CITES_Code\"))\nstocks(\"Labroides bicolor\")\nspecies(\"Labroides bicolor\")\nfecundity()\n?list_fields\nspecies_fields\nStockDefs\nlength(stocks(fields = c(\"CITES_Code\")))\n\nunique(CITES$CITES_Code)\n\n#getting CITES data ------\nCITES <- data.frame(stocks(fields = c(\"CITES_Code\"), limit = 33710), stringsAsFactors = FALSE)\n\n\n#ways of removing NAs\ntable(CITES$CITES_Code, exclude = NA) #works\nCITES.t <- CITES[ CITES$CITES_Code != is.na(CITES$CITES_Code),]\n\n#way of removing NAs that works with this data\nwhich(CITES$CITES_Code == )\ncites.r <- CITES[ - which(is.na(CITES$CITES_Code)) , ]\n\nunique(CITES$CITES_Code)\nwhich(is.na(CITES$CITES_Code))\n\nCITES[CITES$CITES_Code == \"Appendix II\",]\n\n#object of CITES species\ncites.sp <- cites.r$sciname\n\n#habitat of cites species \nc.habitat <- species(cites.sp, fields = species_fields$habitat) \n\n#isolating the speices with a certian characteristic \nc.habitat[c.habitat$AnaCat == \"non-migratory\",]\nwhich(c.habitat$AnaCa == \"non-migratory\")\n\nhab.non.mig <- c.habitat[(which(c.habitat$AnaCa == \"non-migratory\")), ]\nlength(which(c.habitat$AnaCa == \"non-migratory\"))\n\n#displaying totals the easy way\ntable(c.habitat$AnaCat)\n\n#morphology of species, length has all, weight isnt bad\ncites.morph <- species(cites.sp, fields = species_fields$morph) \n\n\nlength.mean.cites <- mean(cites.morph$Length, na.rm = TRUE)\n\nmorph.all <- species(fields = species_fields$morph, limit = 40000) #this one for now\nmorph.all <- species(fields = species_fields$morph, query = morph_feilds$Length, limit = 40000)\n?species\n\n#######ask Thor about normal distribution of the sample\nhist(morph.all$Length)\nhist(log10(morph.all$Length))\n\nc.length.trans <- log10(cites.morph$Length)\n\n\nd.c <- cites.all[ - which(is.na(cites.all$Length)),]\nd.a <- morph.all[ - which(is.na(morph.all$Length)),]\n\nhist(log10(cites.morph$Length), breaks = 30)\nhist((cites.morph$Length), breaks = 30)\n\n#non parametric Kolmogorov-Smirnov Test becsue not a normal dsitribution \nks.test(d.c$Length, d.a$Length)\n\nstr(morph.all)\nstr(cites.morph)\n?wilcox.test\n?complete.cases\n\n#if the data is split completely in half \nhist(c.length.trans[c.length.trans < 1.85], breaks =10)\nhist(c.length.trans[c.length.trans > 1.85], breaks =10)\n#it looks like there are two populations in CITES sample\n#one lines up with the population, one is larger \n\n\n#transformed mean of population\ntrans.mean.all <- mean(log10(morph.all$Length), na.rm = TRUE)\n\nt.test(log10(cites.morph$Length), mu = trans.mean.all)\nt.test(c.length.trans[c.length.trans < 1.85], mu = trans.mean.all) #not signifigant\nt.test(c.length.trans[c.length.trans > 1.85], mu = trans.mean.all) #signifigantly different\n\n#find the specific species part of the second distribution \n####how does the length of each >,< statment not add up to the legth of the whole thing????\nlength(c.length.trans)\nlength(c.length.trans[c.length.trans > 1.85])\nlength(c.length.trans[c.length.trans < 1.85])\n\ncites.sig <- cites.morph[ which(log10(cites.morph$Length) > 1.85), ]\n\ncites.depth <- species(cites.$sciname, fields = species_fields$depth)\n\ncites.fishing <- species(cites.sig$sciname, fields = species_fields$fishing)\n\ncites.sig.all <- cites.all[ which(log10(cites.morph$Length) > 1.85), ]\ncites.nsig.all <- cites.all[ which(log10(cites.morph$Length) < 1.85), ]\n\ntable(cites.sig.all$Genus)\nunique(cites.sig.all$Genus)\n\ntable(cites.nsig.all$Genus)\nunique(cites.nsig.all$Genus)\n\n\n\n\n\n#kicking hippocampus out\nh <- cites.all[- grep(\"Hippocampus\", cites.all$Genus),]\n\nhist(log10(h$Length), breaks = 30)\n\nt.test((log10(h$Length)), mu = trans.mean.all)\n\nah.ex <- h[ - grep(\"Acipenser\", h$Genus), ]\n\nhist(ah.ex$Length, breaks = 20)\nhist(log10(ah.ex$Length), breaks = 20)\n\n\n\n\n\n\n\n\n\n\n\n#other bits------\nlength.mean.all <- mean(morph.all$Length, na.rm = TRUE)\nlength(morph.all$Length)\n\n#number of CITES species with length values\nlength(cites.morph$Length[which(cites.morph$Length != \"NA\")])\nlength(morph.all$Length[which(morph.all$Length != \"NA\")])\n\n\n\n\n\n\n#begingin of loop to compare all cites species and see what variable has the highest number,\n#therefo the most in common....\n#this probably wont work because there is such a mix of characters and numbers\n#could add an if character, print unique, if num take mean?\n\ncites.all <- species(cites.sp)\nx <- rep(NA, length(cites.sp))\n\nfor(i in 1:ncol(cites.all)) {\n i <- 2\n x <- unique(cites.all$i)\n}\n\nrm(list = ls...)\n\n",
    "created" : 1481856641731.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "671673123",
    "id" : "BA38F0AE",
    "lastKnownWriteTime" : 1482267743,
    "last_content_update" : 1482267743199,
    "path" : "~/Desktop/Personal Project/Personal Project/MessingAround.R",
    "project_path" : "MessingAround.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}